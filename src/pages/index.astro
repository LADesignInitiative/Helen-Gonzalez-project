---
import StandardNavBar from "@/layout/standard-nav-bar.astro";
import HeroSection from "@/components/hero-section/index.astro";
import CTA from "@/components/contact-form/CTA.astro";
import TestimonialSection from "@/components/Testimonial/index.astro";
import { testimonials } from "@/data/testimonials.ts";
import WhySection from "@/components/home-components/why-install-artificial-turf.astro";
import WhyWorkWithUsSection from "@/components/home-components/why-work-with-us.astro";
import FlowSection from "@/components/home-components/flow.astro";
import ProjectSection from "@/components/home-components/featured-projects.astro";
import CTASection from "@/components/home-components/CTA-section.astro";
---

<StandardNavBar>
  <HeroSection />
  <WhySection />
  <FlowSection />
  <WhyWorkWithUsSection />
  <ProjectSection />
  <TestimonialSection testimonials={testimonials} />
  <CTASection />
</StandardNavBar>
<script is:inline>
  document.addEventListener("astro:page-load", () => {
    /* for the animations throughout the webpage*/

    const Bg1 = document.getElementById("background1");
    const Bg2 = document.getElementById("background2");
    const Bg3 = document.getElementById("background3");
    const callback = (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          if (entry.target.classList.contains("fallingTag")) {
            entry.target.classList.remove("startingFallingAnim");
          }
          if (entry.target.classList.contains("floatUpTag")) {
            entry.target.classList.remove("floatUp");
          }
          if (entry.target.classList.contains("sinkTag")) {
            entry.target.classList.remove("sink");
          }
          if (entry.target.classList.contains("childrenFadeInFromBottomTag")) {
            for (let i = 0; i < entry.target.children.length; i++) {
              entry.target.children[i].classList.remove("floatUp");
            }
          }
          // if (entry.target.classList.contains("RotateInTag")) {
          //   entry.target.classList.remove("RotateInTag");
          // }
          if (entry.target.id === "lower-cost") {
            entry.target.classList.remove("RotateInTag");
            Bg1.classList.remove("!max-h-0");
          }
          if (entry.target.id === "conservation") {
            entry.target.classList.remove("RotateInTag");
            Bg2.classList.remove("!max-h-0");
          }
          if (entry.target.id === "durability") {
            entry.target.classList.remove("RotateInTag");
            Bg3.classList.remove("!max-h-0");
          }
          if (entry.target.id === "safety") {
            entry.target.classList.remove("RotateInTag");
          }
        } else {
          if (entry.target.classList.contains("fallingTag")) {
            entry.target.classList.add("startingFallingAnim");
          }
          if (
            entry.target.classList.contains("floatUpTag") &&
            !entry.target.classList.contains("floatUp")
          ) {
            entry.target.classList.add("floatUp");
          }

          if (
            entry.target.classList.contains("sinkTag") &&
            !entry.target.classList.contains("sink")
          ) {
            entry.target.classList.add("sink");
          }
          if (entry.target.id === "lower-cost") {
            Bg1.classList.add("!max-h-0");
          }
          if (entry.target.id === "conservation") {
            Bg2.classList.add("!max-h-0");
          }
          if (entry.target.id === "durability") {
            Bg3.classList.add("!max-h-0");
          }
        }
      });
    };
    const options = {
      threshold: 0.1,
    };
    const observer = new IntersectionObserver(callback, options);
    const FallFromTop = document.getElementsByClassName("fallingTag ");
    for (var i = 0; i < FallFromTop.length; i++) {
      observer.observe(FallFromTop[i]);
    }

    const FloatUpTag = document.getElementsByClassName("floatUpTag");
    for (var i = 0; i < FloatUpTag.length; i++) {
      observer.observe(FloatUpTag[i]);
    }

    const SinkTag = document.getElementsByClassName("sinkTag");
    for (var i = 0; i < SinkTag.length; i++) {
      observer.observe(SinkTag[i]);
    }

    const ChildrenFadeInFromBottomTag = document.getElementsByClassName(
      "childrenFadeInFromBottomTag",
    );
    for (var i = 0; i < ChildrenFadeInFromBottomTag.length; i++) {
      observer.observe(ChildrenFadeInFromBottomTag[i]);
    }
    // const RotateInTag = document.getElementsByClassName("RotateInTag");
    // for (var i = 0; i < RotateInTag.length; i++) {
    //   observer.observe(RotateInTag[i]);
    // }
    const LowerCost = document.getElementById("lower-cost");
    const Conservation = document.getElementById("conservation");
    const Durability = document.getElementById("durability");
    const Safety = document.getElementById("safety");
    observer.observe(LowerCost);
    observer.observe(Conservation);
    observer.observe(Durability);
    observer.observe(Safety);
  });
</script>
